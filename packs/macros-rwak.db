{"name":"LaserBlue","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.lElITWAgsh1NVyd9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Animation file name\nlet anFile = `${file}LazerShot_01_Blue_30ft_1600x400.webm`;\nlet anFileSize = 1200;\nlet anchorX = 0.125;\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to that zat gun\n/*\nawait sleepNow(100);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/LazerShot_01_Blue_Thumb.webp","actorIds":[],"_id":"4f9ZC4eYJdkYGpUH"}
{"name":"SpearThrown","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Spear01_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}ThrowingWeapon_Spear01_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}ThrowingWeapon_Spear01_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Spear01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.9  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the spear\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\nawait sleepNow(500)\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Spear01_Thumb.webp","actorIds":[],"_id":"BArgcs9KgDPB5YXF"}
{"name":"ArrowAcid","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.AMmnORmogy0laIOn"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nawait sleepNow(500)\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.125;\nlet boom = 1000;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    boom = 1250;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}Arrow_Simple_01_90ft_4000x400.webm`;\n    anchorX = 0.05;\n    boom = 1750;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}Arrow_Simple_01_60ft_2800x400.webm`;\n    anchorX = 0.071;\n    boom = 1500;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\nlet spellAnim2 = \n                    {\n                     file: \"modules/jb2a_patreon/Library/Generic/Explosion/Explosion_01_Green_400x400.webm\",\n                      position: mainTarget.center,\n                      anchor: {\n                       x: 0.5,\n                       y: 0.5\n                      },\n                      angle: 0,\n                      scale: {\n                       x: 1,\n                       y: 1\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the arrow\n/*\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\nawait sleepNow(boom);\ncanvas.fxmaster.playVideo(spellAnim2);\n// Add some explosive sound to the effect\n/*\nawait sleepNow(150);\nlet soundFile = `explosion sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\nawait sleepNow(250);\ngame.socket.emit('module.fxmaster', spellAnim,spellAnim2);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"systems/dnd5e/icons/spells/fog-acid-3.jpg","actorIds":[],"_id":"CBm70KLUTUvTVj6O"}
{"name":"LaserRed","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.lElITWAgsh1NVyd9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Animation file name\nlet anFile = `${file}LazerShot_01_Red_30ft_1600x400.webm`;\nlet anFileSize = 1200;\nlet anchorX = 0.125;\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to that zat gun\n/*\nawait sleepNow(100);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/LazerShot_01_Red_Thumb.webp","actorIds":[],"_id":"DzxPIooZ4tn5qCMz"}
{"name":"HammerThrown","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Hammer01_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}ThrowingWeapon_Hammer01_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}ThrowingWeapon_Hammer01_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Hammer01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the axe throw\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\nawait sleepNow(500)\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Hammer01_Thumb.webp","actorIds":[],"_id":"ICiM11paNoooh7B5"}
{"name":"DaggerThrown01","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Dagger01_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}ThrowingWeapon_Dagger01_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}ThrowingWeapon_Dagger01_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Dagger01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the dagger\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Dagger01_Thumb.webp","actorIds":[],"_id":"QOiyuwGx6Agr7iGp"}
{"_id":"StHpylaLe8YCEIOY","name":"JavelinThrow","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nawait sleepNow(500)\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Javelin01_30ft_1600x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Javelin01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}ThrowingWeapon_Javelin01_90ft_4000x400.webm`;\n    anchorX = 0.05;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}ThrowingWeapon_Javelin01_60ft_2800x400.webm`;\n    anchorX = 0.071;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the javelin\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Javelin01_Thumb.webp","actorIds":[]}
{"name":"SiegeProjectile","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nawait wait(500)\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}SiegeProjectile_Simple_01_30ft_1600x500.webm`;\nlet anFileSize = 1200;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}SiegeProjectile_Simple_01_30ft_1600x500.webm`;\n    anchorX = 0.125;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}SiegeProjectile_Simple_01_90ft_4000x500.webm`;\n    anchorX = 0.05;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}SiegeProjectile_Simple_01_60ft_2800x500.webm`;\n    anchorX = 0.071;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the impact or throw\n/*\nawait wait(500);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/SiegeProjectile_Simple_01_Thumb.webp","actorIds":[],"_id":"bQNBtvxwTEwTE0e3"}
{"name":"LaserGreen","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.lElITWAgsh1NVyd9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Animation file name\nlet anFile = `${file}LazerShot_01_Green_30ft_1600x400.webm`;\nlet anFileSize = 1200;\nlet anchorX = 0.125;\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to that zat gun\n/*\nawait sleepNow(100);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/LazerShot_01_Green_Thumb.webp","actorIds":[],"_id":"em4ghHZQm829aafy"}
{"name":"DaggerThrown02","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Dagger02_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}ThrowingWeapon_Dagger02_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}ThrowingWeapon_Dagger02_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Dagger02_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the dagger\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Dagger02_Thumb.webp","actorIds":[],"_id":"fCURHdxrSyuQt6HO"}
{"name":"ArrowLightning","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.qvHCZYcw29tRQoVC"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nawait sleepNow(500)\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.125;\nlet boom = 1000;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    boom = 1250;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}Arrow_Simple_01_90ft_4000x400.webm`;\n    anchorX = 0.05;\n    boom = 1750;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}Arrow_Simple_01_60ft_2800x400.webm`;\n    anchorX = 0.071;\n    boom = 1500;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\nlet spellAnim2 = \n                    {\n                     file: \"modules/jb2a_patreon/Library/Generic/Explosion/Explosion_02_Blue_400x400.webm\",\n                      position: mainTarget.center,\n                      anchor: {\n                       x: 0.5,\n                       y: 0.5\n                      },\n                      angle: 0,\n                      scale: {\n                       x: 1,\n                       y: 1\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the arrow\n/*\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\nawait sleepNow(boom);\ncanvas.fxmaster.playVideo(spellAnim2);\n// Add some explosive sound to the effect\n/*\nawait sleepNow(150);\nlet soundFile = `explosion sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\nawait sleepNow(250);\ngame.socket.emit('module.fxmaster', spellAnim,spellAnim2);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"systems/dnd5e/icons/spells/lightning-blue-1.jpg","actorIds":[],"_id":"fk5d8dXC4JjeVqNZ"}
{"name":"ArrowExplosive","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.OYqI9AZdT1H09Wv9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.125;\nlet boom = 1000;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    boom = 1250;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}Arrow_Simple_01_90ft_4000x400.webm`;\n    anchorX = 0.05;\n    boom = 1750;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}Arrow_Simple_01_60ft_2800x400.webm`;\n    anchorX = 0.071;\n    boom = 1500;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\nlet spellAnim2 = \n                    {\n                     file: \"modules/jb2a_patreon/Library/Generic/Explosion/Explosion_01_Orange_400x400.webm\",\n                      position: mainTarget.center,\n                      anchor: {\n                       x: 0.5,\n                       y: 0.5\n                      },\n                      angle: 0,\n                      scale: {\n                       x: 1,\n                       y: 1\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the arrow\n/*\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\nawait sleepNow(boom);\ncanvas.fxmaster.playVideo(spellAnim2);\n// Add some explosive sound to the effect\n/*\nawait sleepNow(150);\nlet soundFile = `explosion sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\nawait sleepNow(250);\ngame.socket.emit('module.fxmaster', spellAnim,spellAnim2);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"systems/dnd5e/icons/spells/explosion-red-2.jpg","actorIds":[],"_id":"gxNCpFqGfO2CBqxR"}
{"name":"SlingShot","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.BFM8u2JbSaxkuUT7"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}SlingShot_01_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}SlingShot_01_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}SlingShot_01_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}SlingShot_01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to that sling\n/*\nawait sleepNow(1300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\nawait sleepNow(500)\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/SlingShot_01_Thumb.webp","actorIds":[],"_id":"lcvLt6dmoPp8I5P1"}
{"name":"Arrow","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nawait sleepNow(500)\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}Arrow_Simple_01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}Arrow_Simple_01_90ft_4000x400.webm`;\n    anchorX = 0.05;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}Arrow_Simple_01_60ft_2800x400.webm`;\n    anchorX = 0.071;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the arrow\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/Arrow_Simple_01_Thumb.webp","actorIds":[],"_id":"qLlURqNZwroWuT2h"}
{"name":"Boulder","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nawait wait(500)\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}BoulderToss_Simple_01_30ft_1600x500.webm`;\nlet anFileSize = 1200;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = `${file}BoulderToss_Simple_01_30ft_1600x500.webm`;\n    anchorX = 0.125;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = `${file}BoulderToss_Simple_01_90ft_4000x500.webm`;\n    anchorX = 0.05;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = `${file}BoulderToss_Simple_01_60ft_2800x500.webm`;\n    anchorX = 0.071;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the impact or throw\n/*\nawait wait(500);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/BoulderToss_Simple_01_Thumb.webp","actorIds":[],"_id":"qitlAmJB3KodqUB7"}
{"name":"KunaiThrown","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Kunai01_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}ThrowingWeapon_Kunai01_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}ThrowingWeapon_Kunai01_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Kunai01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the dagger\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\nawait sleepNow(500)\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Kunai01_Thumb.webp","actorIds":[],"_id":"ty2j2Ag5fX2VBJXc"}
{"name":"HandaxeThrown","permission":{"default":0,"ccsO3NtPJs2xE1RS":3},"type":"script","flags":{"furnace":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.IHti68rYGIVejpF9"}},"scope":"global","command":"// Requires at least 1 target\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n// Requires token to be slected\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n// Requires FX Master Module\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n// Animation file path\nlet file = \"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/\";\n// Checking for range to target to choose which file to pull\nlet anFile = `${file}ThrowingWeapon_Handaxe01_15ft_1000x400.webm`;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = `${file}ThrowingWeapon_Handaxe01_15ft_1000x400.webm`;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = `${file}ThrowingWeapon_Handaxe01_45ft_2200x400.webm`;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = `${file}ThrowingWeapon_Handaxe01_30ft_1600x400.webm`;\n    anchorX = 0.125;\n    break;\n}\n// Scaling the Height of the animation for consistency across ranges\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\n// Add some sound to the axe throw\n/*\nawait sleepNow(300);\nlet soundFile = `sound path here`;\nAudioHelper.play({src: soundFile, volume: 1.0, autoplay: true, loop: false}, true);\n*/\n// Or play random sounds on each attack\n/*\nlet soundHome = \"CustomSounds/battle/\";\n\nlet m1 = `sound 01 file location here`;\nlet m2 = `sound 02 file location here`;\nfunction random_sound(sounds)\n{\nreturn sounds[Math.floor(Math.random()*sounds.length)];\n}\n\nvar sounds = [m1, m2];\n\nlet roll = new Roll('1d3').roll().total;\nlet soundFile = random_sound(sounds);\nAudioHelper.play({src: soundHome + soundFile, volume: 0.9, autoplay: true, loop: false}, true);\n*/\ngame.socket.emit('module.fxmaster', spellAnim);\nawait sleepNow(500)\n}\n}\nCast ()","author":"ccsO3NtPJs2xE1RS","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/ThrowingWeapon_Handaxe01_Thumb.webp","actorIds":[],"_id":"ueJzwHNeTNL8pCVl"}
